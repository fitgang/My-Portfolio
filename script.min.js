async function renderProjectsInMyWorkSec(){const e=myWorkSec.querySelector("#my-work-cards");projects.forEach(t=>{const n=createCardComponent(t);e.appendChild(n)})}function createCardComponent(e){const t=document.createElement("li"),n=document.createElement("a"),r=document.createElement("h3"),o=document.createElement("p");return r.className="header capitalize",r.innerText=e.heading,o.className="description",o.innerHTML=`${e.description}<br>Tech Used: ${e.tech}`,n.className="content",n.target="_blank",n.href=e.link,n.append(r,o),t.className="ui raised card my-work-card",t.appendChild(n),t}function showElemOnIntersection(e,t){const n=e[0];if(n.isIntersecting){const e=n.target;e.querySelectorAll(".my-work-card, .my-work-btn").forEach(e=>e.classList.add("show"))}}function moveBtnOnIntersection(e){const t=e[0],n=document.getElementById("cta-for-contact");t.isIntersecting?n.classList.remove("position"):n.classList.add("position")}function changeForm(e,t){const n=contactSec.querySelector("#contact-forms"),r=n.querySelector(`#${e}-form`),o=n.querySelector(`#${t}-form`),s=250;r.classList.add("hide"),setTimeout(()=>{r.classList.add("none"),o.classList.remove("none")},s),setTimeout(()=>{o.classList.remove("hide")},2*s)}function toggleSuggestionField(){const e=this.querySelector("input"),t=this.parentElement.parentElement,n=t.nextElementSibling;"no"!==e.value?hideSuggestionsField(n):showSuggestionsField(n)}function showSuggestionsField(e){const t=e.querySelector("input");e.classList.remove("none"),e.classList.add("required"),t.disabled=!1}function hideSuggestionsField(e){const t=e.querySelector("input");e.classList.add("none"),e.classList.remove("required"),t.disabled=!0,t.value=""}function clearFormFields(e){const t=e.querySelectorAll("input[type='text'], textarea"),n=e.querySelectorAll("input[type='radio']"),r=e.querySelectorAll(".field.suggestions"),o=e.querySelectorAll(".rating .icon.active"),s=e.querySelector(".message");t.forEach(e=>e.value=""),n.forEach(e=>e.checked=!1),r.forEach(e=>hideSuggestionsField(e)),o.forEach(e=>e.classList.remove("active")),hideMessageBoxAndClearErrorsInUI(s)}async function validateDataAndSubmit(e){e.preventDefault();const t=this,n=t.querySelector(".message");t.classList.add("loading"),hideMessageBoxAndClearErrorsInUI(n);const r=validateData(t);if(0!==r.length)showErrorsInUI(n,r);else{const e=await sendData(t);0!==e.length?showErrorsInUI(n,e):(showSuccessInUI(n),clearFormFields(t))}t.classList.remove("loading")}function hideMessageBoxAndClearErrorsInUI(e){e.classList.add("none");const t=e.querySelector(".list");t.innerHTML=""}function showErrorsInUI(e,t){const n=e.querySelector(".header");n.innerText="We have some issues";const r=e.querySelector(".list");t.forEach(e=>{const t=document.createElement("li");t.innerText=e,r.appendChild(t)}),e.classList.remove("none")}function showSuccessInUI(e){const t=e.querySelector(".header");t.innerText="SUCCESS",e.classList.remove("none")}function validateData(e){let t=[];const n=e.querySelectorAll(".required.field input[type='text'], .required.field textarea");if(n.forEach(e=>{const n=checkTextField(e);n&&t.push(n)}),"review-form"===e.id){const n=e.querySelectorAll(".choices"),r=e.querySelectorAll(".rating .icon.active").length;n.forEach(e=>{const n=checkRadioField(e.querySelectorAll("input[type='radio']"));n&&t.push(n)}),0===r?t.push("Please rate this portfolio."):r>5&&t.push("Do not temper the code or the form.")}return t}function checkTextField(e){const t=function(){const t={name:/^([a-z]+\s?)+$/i,linkedin:/^https:\/\/www.linkedin.com\/in\/.+\/$/,occupation:/^[\w-\(\)]+$/,organization:/^[\w-\(\),]+$/};return t[e.getAttribute("name")]},n={emptyTextField:function(){const t=e.getAttribute("name");if(t.includes("suggestions"))switch(t.split("-",1)[0]){case"fulfil":return"Please enter what this website needs.";case"color":return"Please enter what colors should be used.";default:return"Please enter what I need more to become internship ready."}return`Please enter your ${t}.`},regexNotMatch:function(){const t={name:"Only use letters and spaces in your name.",linkedin:"Your linkedin url should be like https://www.linkedin.com/in/ayushweb/",occupation:"Only use alphabets, numbers, underscore( _ ), hyphen( - ) and round brackets ( () ) in your occupation.",organization:"Only use alphabets, numbers, underscore( _ ), hyphen( - ), comma( , ) and round brackets ( () ) in your organization."};return t[e.name]}};let r=e.value.trim();if(e.value=r,""===r)return n.emptyTextField();r=r.replace(/\s{2,}/g," "),e.value=r;const o=t();return void 0===o||o.test(r)?void 0:n.regexNotMatch()}function checkRadioField(e){const t={fulfil:"Please answer - this website does the work?",color:"Select 'yes' or 'can be better' for the colours used in the site.",internship:"Am I internship ready? Select 'yes' or 'no'."};let n=0;for(let t of e)t.checked&&n++;return 0===n?t[e[0].name]:n>1?"Do not apply your brains and change the code":void 0}async function sendData(e){const t=e.id.split("-",1)[0],n=(e.querySelector(".ui.message"),`/${t}`);let r=new FormData(e);if("review"===t){const t=e.querySelectorAll(".rating .icon.active").length;r.append("rating",t)}const o=await fetch(n,{method:"POST",body:r});if(200===o.status)return[];const s=await o.json();return s}import projects from"/projects.js";const myWorkSec=document.getElementById("my-work"),introSec=document.getElementById("introduction"),contactSec=document.getElementById("contact"),forms=contactSec.querySelectorAll(".form"),changeFormBtn=document.getElementById("change-form-btn"),radioFormInputs=document.querySelectorAll(".form .ui.radio"),clearFormBtns=document.querySelectorAll(".form button.clear");renderProjectsInMyWorkSec(),changeFormBtn.addEventListener("click",function(){const e=this;let t,n,r=e.innerText;r.search(/review/i)>=0?(t="message",n="review"):(n="message",t="review"),changeForm(t,n),e.querySelector(".visible.content").innerText=r.replace(new RegExp(n,"i"),t)}),radioFormInputs.forEach(e=>{e.addEventListener("click",toggleSuggestionField)}),clearFormBtns.forEach(e=>{e.addEventListener("click",e=>{const t=e.currentTarget.parentElement;clearFormFields(t)})}),forms.forEach(e=>{e.addEventListener("submit",validateDataAndSubmit)});const myWorkSecObserver=new IntersectionObserver(showElemOnIntersection,{threshold:.1});myWorkSecObserver.observe(myWorkSec);const contactBtnObserver=new IntersectionObserver(moveBtnOnIntersection);contactBtnObserver.observe(introSec),contactBtnObserver.observe(contactSec);